plugins {
    id 'java'
}

version = '1.0'

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

sourceSets.main.java.srcDirs = ["src"]

repositories {
    mavenCentral()
    maven { url 'https://www.jitpack.io' }
}

ext {
    mindustryVersion = 'v146'
    jabelVersion = "93fde537c7"
}

dependencies {
    compileOnly "com.github.Anuken.Arc:arc-core:$mindustryVersion"
    compileOnly "com.github.Anuken.MindustryJitpack:core:$mindustryVersion"
    
    annotationProcessor "com.github.Anuken:jabel:$jabelVersion"
}

jar {
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
    
    archiveFileName = "${project.name}.jar"
}

task deploy(type: Jar) {
    dependsOn jar
    from { zipTree(jar.archiveFile) }
    
    archiveFileName = "${project.name}.jar"
}